<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="#">
    <title>jsPDF fix UTF-8 by John</title>

    <!-- å¦‚æœç¶²é ä¹Ÿè¦çœ‹åˆ°å­—å‹éœ€è¦ CDN -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rampart+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Klee+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">

    <style>
        #content {
            margin: 10px;
            padding: 10px 40px;
            width: 500px;
            border: 1px solid black;
            background-color: antiquewhite;
        }

        h1 {
            color: green;
            /* font-family: 'RampartOne-Regular', 'Rampart One', cursive; */
            font-family: 'Roboto', sans-serif;

        }

        h2,
        h3 {
            font-family: 'RampartOne-Regular', 'Rampart One', cursive;
            color: blueviolet;
        }

        p {
            color: brown;
            /* font-family: 'KleeOne-Regular', 'Klee One', cursive; */
            font-family: 'Roboto', sans-serif;
        }
    </style>


</head>

<body>

    <div id="content">
        <h1>å°åŒ— âœ¹ </h1>
        <h2>ã‚ƒãªã„ã¨ã„ã‘ãªã„ ğŸ‘€ </h2>
        <h3>some English</h3>
        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem
            Ipsum has been the industry's standard dummy text ever since the 1500s, when an
            unknown printer took a galley of type and scrambled it to make a type specimen book. It
            has survived not only five centuries, but also the leap into electronic typesetting,
            remaining essentially unchanged. It was popularised in the 1960s with the release of
            Letraset sheets containing Lorem Ipsum passages, and more recently with desktop
            publishing software like Aldus PageMaker including versions of Lorem Ipsum.
            It is a long established fact that a reader will be distracted by the readable content of a
            page when looking at its layout. The point of using Lorem Ipsum is that it has a more-orless normal
            distribution of letters, as opposed to using 'Content here, content here',
            making it look like readable English. Many desktop publishing packages and web page
            editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum'
            will uncover many web sites still in their infancy. Various versions have evolved over the
            years, sometimes by accident, sometimes on purpose (injected humour and the like).</p>
        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem
            Ipsum has been the industry's standard dummy text ever since the 1500s, when an
            unknown printer took a galley of type and scrambled it to make a type specimen book. It
            has survived not only five centuries, but also the leap into electronic typesetting,
            remaining essentially unchanged. It was popularised in the 1960s with the release of
            Letraset sheets containing Lorem Ipsum passages, and more recently with desktop
            publishing software like Aldus PageMaker including versions of Lorem Ipsum.
            It is a long established fact that a reader will be distracted by the readable content of a
            page when looking at its layout. The point of using Lorem Ipsum is that it has a more-orless normal
            distribution of letters, as opposed to using 'Content here, content here',
            making it look like readable English. Many desktop publishing packages and web page
            editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum'
            will uncover many web sites still in their infancy. Various versions have evolved over the
            years, sometimes by accident, sometimes on purpose (injected humour and the like).</p>
        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem
            Ipsum has been the industry's standard dummy text ever since the 1500s, when an
            unknown printer took a galley of type and scrambled it to make a type specimen book. It
            has survived not only five centuries, but also the leap into electronic typesetting,
            remaining essentially unchanged. It was popularised in the 1960s with the release of
            Letraset sheets containing Lorem Ipsum passages, and more recently with desktop
            publishing software like Aldus PageMaker including versions of Lorem Ipsum.
            It is a long established fact that a reader will be distracted by the readable content of a
            page when looking at its layout. The point of using Lorem Ipsum is that it has a more-orless normal
            distribution of letters, as opposed to using 'Content here, content here',
            making it look like readable English. Many desktop publishing packages and web page
            editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum'
            will uncover many web sites still in their infancy. Various versions have evolved over the
            years, sometimes by accident, sometimes on purpose (injected humour and the like).</p>
        <p>å…¨è§’ã˜ã‚ƒãªã„ã¨ã„ã‘ãªã„ï¼šæ•°å­—ã‚‚ï¼“ï¼’ï¼‘</p>
        <p>ä»–æ˜¯å¼·çƒˆçš„å–œâ‹¯è¦ºå¾—é€™æœƒèªªäººå–œæ­¡çœŸå‘³ï¼Œç´¯äº†æ‰€ä»¥é»çš„æ±ç¨®æ„Ÿï¼Œã—ã‚“ãŒãŸã‚³ãƒ­ãƒŠã‚¦ã‚¤ãƒ«ã‚¹ã®æ¤œæŸ»ã‘ã‚“ã•ã‚’ã—ã«æ¥ããŸ1130äººã«ã‚“ã‚’èª¿ã—ã‚‰ã¹ã¾ã—ãŸã€‚ãƒ¯ã‚¯ãƒãƒ³ã®æ³¨å°„ã¡ã‚…ã†ã—ã‚ƒã‚’ã—ãŸã‹ã©ã†ã‹ã«ã¤ã„ã¦ã§ã™ã€‚å› ç‚ºä¸€ç›´æ²’â‹¯èµ¤æ¥šå¾—åƒé£¯å®Œæ˜¯å¥½ã€‚å¥½æƒ³äº†ä½†çŸ¥é“ä¸è¡Œæˆ‘çœ‹åˆ°äº†ï¼Œæ‡‰è©²æ‰çŸ¥ï¼Œå°æ²’æœ‰è¨­å®šå †äººä»¥åšå°±æ˜¯ï¼Œåˆ°äº†æ¶ˆæ¯å•Šå•Šå•Šæ•´å€‹â‹¯ä¾†å°±æ˜¯æˆ‘å¥½åƒæ”»ä¹Ÿåªï¼šçœ‹èµ·ä¾†æ˜å¤©ã€‚
        </p>
    </div>


    <a href="" onclick="download_pdf();">Download to pdf</a>
    <a id="download" download="Image.jpg" href="" onclick="download_img(this);">Download to jpg</a>



    <script src="https://unpkg.com/html2canvas@1.3.2/dist/html2canvas.js"></script> <!-- for jsPDF HTML Method -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.3.1/jspdf.umd.min.js"></script>
    <script>
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF('l', 'pt', 'a4', false);
    </script>
    <!-- custom font definition -->
    <!-- jsPDF fontconverter for Base64:  https://rawgit.com/MrRio/jsPDF/master/fontconverter/fontconverter.html -->
    <script src="font/RampartOne-Regular-normal.js"></script>
    <!-- https://fonts.google.com/specimen/Rampart+One?subset=japanese#standard-styles -->
    <script src="font/KleeOne-Regular-normal.js"></script>
    <!-- https://fonts.google.com/specimen/Klee+One?subset=japanese#standard-styles -->
    <script src="font/SawarabiMincho-Regular-normal.js"></script>
    <!-- https://fonts.google.com/specimen/Sawarabi+Mincho?subset=japanese -->
    <script>

        // æ³¨æ„ï¼šjsPDF fontconverter åªé‡å° ttf çš„å­—å‹æœ‰æ”¯æ´ï¼Œ otf å­—å‹æˆ‘è©¦å¥½å¹¾ç¨®æ–¹æ³•éƒ½å¤±æ•—
        // æ³¨æ„ï¼šjsPDF fontconverter è½‰å‡ºä¾†çš„ js æª”ï¼Œéœ€è¦åˆªæ‰è®Šæ•¸ä»¥å¤–çš„ç¨‹å¼ç¢¼ï¼ˆç¬¬ä¸€è¡Œèˆ‡æœ€å¾Œå››è¡Œï¼‰
        // æ­¥é©Ÿï¼šå…ˆåœ¨ google font é¸å¥½å­—å‹ï¼ˆè¦æ‰¾ ttf æ ¼å¼ï¼‰ > ç”¨ä¸Šé¢ç¶²å€è½‰æˆ base64 æ ¼å¼ç¢¼
        // å°‡å­—å‹ base64 æ ¼å¼ç¢¼æ”¾å…¥ä¸€å€‹è®Šæ•¸ä¸­ã€‚( ç¯„ä¾‹ä¸­çš„å­—å‹jsæª”ï¼Œå…§æœ‰è®Šæ•¸ï¼š fontã€font2 ï¼‰
        // ç‰¹åˆ¥èªªæ˜ï¼šç”±æ–¼å­—å‹ base64 æ ¼å¼ "åª" è¼‰å…¥ pdfjs æ§‹é€ å‡½æ•¸çš„å¯¦ä¾‹è¨˜æ†¶é«”ä¸­ï¼Œç¶²é æœ¬èº«ä¸¦æ²’æœ‰è©²å­—é«”ï¼Œå¦‚æœè¦ç¶²é çœ‹å¾—åˆ°éœ€è¦å†å¦å¤– CDN é€²å»ï¼ˆä¸Šé¢æœ‰ç¤ºç¯„ï¼‰

        doc.addFileToVFS('font/RampartOne-Regular-normal.ttf', font);
        doc.addFont('font/RampartOne-Regular-normal.ttf', 'RampartOne-Regular', 'normal');

        doc.addFileToVFS('font/KleeOne-Regular-normal.ttf', font2);
        doc.addFont('font/KleeOne-Regular-normal.ttf', 'KleeOne-Regular', 'normal');

        doc.addFileToVFS('font/SawarabiMincho-Regular-normal.ttf', font3);
        doc.addFont('font/SawarabiMincho-Regular.ttf', 'SawarabiMincho-Regular', 'normal');

    </script>


    <script>


        // PDF
        doc.html(document.getElementById('content'))

        function download_pdf() {
            // doc.save('utf8_font.pdf')
            doc.output('dataurlnewwindow');
        }




        // JPG
        var image;
        html2canvas(document.getElementById('content')).then(canvas => {
            image = canvas.toDataURL("image/jpg")
        })

        function download_img(e) {
            e.href = image
        }


    </script>
</body>

</html>